<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Image â†’ LaTeX</title>

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lucide-static@0.455.0/font/lucide.css">

  <style>
    body {
      margin: 0;
      font-family: "Georgia", serif;
      background: #f7efe5;
      color: #3a2e2a;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      width: 100%;
      max-width: 420px;
      background: #fffaf3;
      border-radius: 16px;
      padding: 28px;
      box-shadow: 0 18px 50px rgba(0,0,0,0.25);
      text-align: center;
    }

    h1 {
      font-size: 32px;
      margin-bottom: 8px;
    }

    p {
      font-size: 14px;
      opacity: 0.85;
      margin-bottom: 24px;
    }

    .upload-box {
      background: #f3e8d9;
      border-radius: 12px;
      padding: 18px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .upload-box:hover {
      background: #eadcc8;
    }

    .upload-box input {
      display: none;
    }

    .upload-status {
      margin-top: 12px;
      font-size: 13px;
      color: #5b4a3f;
    }

    .preview {
      margin-top: 14px;
      display: none;
    }

    .preview img {
      width: 100%;
      max-height: 160px;
      object-fit: contain;
      border-radius: 10px;
      background: #fff;
      padding: 8px;
    }

    button {
      margin-top: 18px;
      width: 100%;
      padding: 12px;
      border-radius: 999px;
      border: none;
      background: #3a2e2a;
      color: white;
      font-size: 15px;
      cursor: pointer;
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .result {
      margin-top: 20px;
      background: #f7efe5;
      border-radius: 12px;
      padding: 14px;
      font-family: monospace;
      font-size: 13px;
      display: none;
      position: relative;
    }

    .copy {
      position: absolute;
      top: 8px;
      right: 8px;
      cursor: pointer;
      font-size: 13px;
    }

    footer {
      margin-top: 26px;
      display: flex;
      justify-content: center;
      gap: 22px;
    }

    footer a {
      color: #3a2e2a;
      text-decoration: none;
      font-size: 22px;
    }

    footer a:hover {
      opacity: 0.7;
    }

    .upload-box {
  background: #f3e8d9;
  border-radius: 12px;
  padding: 20px;
  display: flex;
  justify-content: center;
}

.upload-btn {
  display: flex;
  align-items: center;
  gap: 10px;
  background: #fffaf3;
  padding: 12px 18px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 14px;
}

.upload-btn input {
  display: none;
}
    
  </style>
</head>
<body>

  <div class="container">
    <h1>Image â†’ LaTeX</h1>
    <p>Convert math equations into clean LaTeX</p>

    <!-- Upload -->
<div class="upload-box">
  <label class="upload-btn">
    <i class="lucide lucide-upload"></i>
    <span>Click to upload image</span>
    <input type="file" id="fileInput" accept="image/png,image/jpeg">
  </label>
</div>


    <div class="upload-status" id="uploadStatus"></div>

    <!-- Preview -->
    <div class="preview" id="preview">
      <img id="previewImg">
    </div>

    <button id="generateBtn" disabled>Generate LaTeX</button>

    <!-- Result -->
    <div class="result" id="result">
      <span class="copy" onclick="copyLatex()">ðŸ“‹</span>
      <pre id="latexText"></pre>
    </div>

    <!-- Footer -->
    <footer>
      <a href="https://github.com/kaushav07" target="_blank">
        <i class="lucide lucide-github"></i>
      </a>
      <a href="https://www.linkedin.com/in/kaushav-kumar-2324ab247" target="_blank">
        <i class="lucide lucide-linkedin"></i>
      </a>
      <a href="https://www.instagram.com/kaushav.jr" target="_blank">
        <i class="lucide lucide-instagram"></i>
      </a>
    </footer>
  </div>

<script>
  const fileInput = document.getElementById("fileInput");
  const uploadStatus = document.getElementById("uploadStatus");
  const preview = document.getElementById("preview");
  const previewImg = document.getElementById("previewImg");
  const btn = document.getElementById("generateBtn");
  const result = document.getElementById("result");
  const latexText = document.getElementById("latexText");

  let file;

  fileInput.addEventListener("change", () => {
    file = fileInput.files[0];
    if (!file) return;

    uploadStatus.innerHTML = `âœ… Image uploaded: <b>${file.name}</b>`;
    preview.style.display = "block";
    previewImg.src = URL.createObjectURL(file);
    btn.disabled = false;
  });

  btn.addEventListener("click", async () => {
    btn.innerText = "Processing...";
    btn.disabled = true;
    result.style.display = "none";

    const formData = new FormData();
    formData.append("file", file);

    const res = await fetch(
      "https://image-to-latex-backend.onrender.com/api/image-to-latex",
      { method: "POST", body: formData }
    );

    const data = await res.json();

    latexText.textContent = data.latex || "Failed";
    result.style.display = "block";
    btn.innerText = "Generate LaTeX";
    btn.disabled = false;
  });

  function copyLatex() {
    navigator.clipboard.writeText(latexText.textContent);
    alert("Copied!");
  }
</script>

</body>
</html>

